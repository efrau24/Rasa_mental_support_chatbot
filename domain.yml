version: "3.1"

intents:
  - greet
  - goodbye
  - deny
  - reject
  - affirm
  - user_name
  - user_age
  - nlu_fallback
  - help_request
  - inform_occupation
  - inform_interests
  - thank_you
  - ask_about_chatbot

  
entities:
  - name
  - age

slots:
  # --- Conversation Management Slots ---
  conversation_started:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
      - type: custom

  form_completed:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
      - type: custom

  recent_topics:
    type: list
    influence_conversation: false
    mappings:
      - type: custom

  session_start_time:
    type: text
    influence_conversation: false
    mappings:
      - type: custom

  
  
  # --- Static User Info Slots ---

  # User basic info
  name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
        - active_loop: user_info_form
          requested_slot: name

  age:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: age
        conditions:
        - active_loop: user_info_form
          requested_slot: age


  occupation:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: user_info_form
            requested_slot: occupation

  interests:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: user_info_form
            requested_slot: interests

  sub_interests:
    type: list
    influence_conversation: false
    mappings:
      - type: custom
  

  # Issues slots

  current_issue:
    type: text
    mappings:
      - type: custom

  remaining_issues:
    type: list
    mappings:
      - type: custom


  # --- Dynamic Conversation Slots ---

  issues_profile:
    type: any
    initial_value: {}
    influence_conversation: false
    mappings:
      - type: custom


  user_message:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text

  end_interview:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
      - type: custom

  message_count:
    type: float
    initial_value: 0
    influence_conversation: false
    mappings:
      - type: custom

  messages_log:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom


  mood:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom
  
  personality_traits:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom
  
  lifestyle:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  social_and_relationships:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  motivation:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  thought_patterns:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  possible_disorders:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom



  
forms:

  interview_form:
    required_slots:
      - user_message

  user_info_form:
    required_slots:
      - name
      - age
      - occupation
      - interests

responses:

  utter_first_time_info:
    - text: |
        Hello and welcome! I'm a chatbot designed to support mental health and promote positive behavior change. 
        While I can offer emotional support and helpful guidance, I'm not a licensed therapist and do not replace professional mental health care. 
        If you're in crisis or need immediate help, please contact a mental health professional or emergency services. 
        Let's begin with some basic information about you.
    - text: |
        Hello! I'm a mental health and behavior change support chatbot. I'm here to listen, guide, and help you reflect on your thoughts and actions. 
        Keep in mind that I'm not a licensed therapist and I don't replace professional care. 
        If you're facing a crisis, please reach out to a qualified mental health professional or emergency services. 
        Let's get started by collecting some basic personal information.
    - text: |
        Hello! I'm a chatbot here to support your mental well-being and help you with positive behavior changes. 
        I can offer guidance and support, but I'm not a licensed therapist and should not replace professional mental health care. 
        If you're in crisis or need urgent help, please contact a mental health professional or emergency services. 
        To begin, I'd like to ask you a few questions about yourself.
  
  utter_not_first_time:
    - text: |
        Great! So, you're familiar with how I can assist you. 
        I'm here to support your mental health and behavior change journey.
        To begin, I need to gather some basic information about you.
    - text: |
        Awesome! Since you're not new here, you know I can help with mental health and behavior change. 
        Let's start by collecting some basic information about you.

  utter_info:
    - text: |
        I'm here to support you with mental health and behavior change. I can listen, provide guidance, and help you reflect on your thoughts and actions.
        However, I'm not a licensed therapist and don't replace professional care. If you're in crisis or need immediate help, 
        please contact a mental health professional or emergency services.

  utter_ask_name:
    - text: "Can I ask your name?"
    - text: "What should I call you?"
    - text: "I'd love to know your name so I can talk to you more personally."

  utter_ask_age:
    - text: "How old are you?"
    - text: "I'd like to know how old you are."
    - text: "Would you mind telling me your age?"
 
  utter_ask_occupation:
    - text: "What do you do for work or study?"
    - text: "Can you tell me a bit about what you do in your daily life?"
    - text: "I'd love to hear about what you do for a living or what keeps you busy."

  utter_ask_interests:
    - text: "What kinds of things do you enjoy doing in your free time?"
    - text: "Do you have any hobbies or interests you'd like to share?"
    - text: "What brings you joy or helps you relax when you're not working or studying?"

  utter_submit:
    - text: "Thanks, {name}! I've saved your information. How are you feeling right now?"
    - text: "Thank you, {name}. I've got your details. How are you doing today?"
    - text: "Thanks for sharing that with me, {name}. How are you feeling at the moment?"


  utter_personalized_greeting:
    - text: "Hi {name}! How are you feeling today?"
    - text: "Hi {name}! I hope you're doing well. How can I help you today?"
    - text: "Hi {name}! I'm here for you. How can I support you today?"

  utter_goodbye:
    - text: "Goodbye! Hope to talk to you again soon."
    - text: "Goodbye! If you need anything, don’t hesitate to reach out."
    - text: "Goodbye! If you ever need support, I’m here for you."

  utter_generic_response:
    - text: "I understand. Let me know how you're feeling today."

  utter_ok_no_questions:
    - text: "That's totally okay. I'm here whenever you feel ready to talk."
    - text: "No problem at all—take your time. I'll be here when you're ready."

 
  utter_you_are_welcome:
    - text: "You're welcome! I'm here to help you."


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

actions: 
  - action_llm_fallback
  - action_conversation_started
  - action_personalized_greeting
  - action_submit_user_info_form
  - action_extract_name
  - action_classify_user_occupation
  - action_classify_user_interests
  - validate_user_info_form
  - action_extract_issues
  - action_update_mood
  - action_ask_focus_issue
  - action_set_current_issue
  - action_activate_form
  - action_save_issue_profile
  - action_submit_issue_form
  - action_start_interview 
  - validate_interview_form
  - action_submit_interview_form