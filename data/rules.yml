version: "3.1"

rules:

# greeting rules

- rule: Greet after form completion
  condition:
    - slot_was_set:
        - form_completed: true
  steps:
    - intent: greet
    - action: utter_personalized_greeting


# form rules

- rule: User info form completion
  condition:
    - active_loop: user_info_form
  steps:
    - action: user_info_form
    - active_loop: null
    - slot_was_set:
        - requested_slot: null
    - action: action_submit_user_info_form

- rule: User interview form completion
  condition:
    - active_loop: interview_form
  steps:
    - action: interview_form
    - active_loop: null
    - slot_was_set:
        - requested_slot: null
    - action: action_submit_interview_form



# conversation rules

- rule: User refuses to provide information
  steps:
    - intent: reject
    - action: utter_ok_no_questions

- rule: Respond to thank you
  steps:
    - intent: thank_you
    - action: utter_you_are_welcome

- rule: Respond_to_ask_about_chatbot
  steps:
    - intent: ask_about_chatbot
    - action: utter_info


- rule: LLM fallback if not classifiable
  steps:
    - intent: nlu_fallback
    - action: action_llm_fallback



